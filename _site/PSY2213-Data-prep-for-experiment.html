<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Joe Sweetman" />


<title>Data prep for experiment (PSY2213; 2023)</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Data prep for experiment (PSY2213;
2023)</h1>
<h4 class="author">Joe Sweetman</h4>

</div>


<p>This covers how to prepare your data for analysis (see “Analysis of
in-class experiment” for details of analysis). There are loads of great
<a href="https://glennwilliams.me/r4psych/">introductions for R
available for free online</a> to help build a deeper understanding,
including how to install R and RStudio if you are having problems.</p>
<p>Here I provide the R code for combining and preparing your data from
gorilla.</p>
<div id="packages" class="section level1" number="1">
<h1><span class="header-section-number">1</span> packages</h1>
<p>First, we will need to install and/or load then packages we need.</p>
<pre class="r"><code># Package names
packages &lt;- c(&quot;tidyverse&quot;, &quot;utils&quot;)

# Install packages not yet installed
installed_packages &lt;- packages %in% rownames(installed.packages())
if (any(installed_packages == FALSE)) {
  install.packages(packages[!installed_packages])
}

# Packages loading
invisible(lapply(packages, library, character.only = TRUE))</code></pre>
</div>
<div id="set-working-directory" class="section level1" number="2">
<h1><span class="header-section-number">2</span> set working
directory</h1>
<p>Setting a working directory can be helpful as it means you can keep
all of your files and outputs in this folder making it easier to access
them and meaning you don’t have to type so much.</p>
<pre class="r"><code>setwd(&quot;~/Dropbox/Documents/My data/Moral sense task/practical&quot;)</code></pre>
<p>Your working directory address will be different depending on your
folders and OS (this is for a Mac, Windows machines are different if you
look at a folder/file and “get info” it will tell you the directory.
Alternatively, you can just use the default directory that was set when
you installed RStudio)</p>
</div>
<div id="import-data-and-combine-data" class="section level1"
number="3">
<h1><span class="header-section-number">3</span> import data and combine
data</h1>
<p>Next, we will need to import the data files from gorilla. This only
works if the file is in your working directory. You can either put it
there or specify the whole file address or you can use RStudio to open
the file.</p>
<p>Gorilla gives you a number of data files for each node/task in your
experiment. In this case we are interested in the main stimuli files
(one file for each of the different counterbalanced key press
conditions, Q=Yes vs. P=Yes). We read in the data from its directory
address.</p>
<pre class="r"><code>#Read in the data and rename
dataQyes &lt;- read.csv(&quot;~/Dropbox/Documents/My data/Moral sense task/practical/data_exp_121600-v4_task-zith.csv&quot;, header=TRUE, na.strings=&quot;&quot;)

dataPyes &lt;- read.csv(&quot;~/Dropbox/Documents/My data/Moral sense task/practical/data_exp_121600-v4_task-kbcz.csv&quot;, header=TRUE, na.strings=&quot;&quot;)

dataDemo &lt;- read.csv(&quot;~/Dropbox/Documents/My data/Moral sense task/practical/data_exp_114793-v1_questionnaire-vivn.csv&quot;, header=TRUE, na.strings=&quot;&quot;)</code></pre>
<p>Now we have the two counterbalanced conditions we can combine the
data files.</p>
<pre class="r"><code># combine data
df &lt;- rbind(dataQyes, dataPyes)
head(df)</code></pre>
<pre style="max-height: 500px;"><code>##   Event.Index UTC.Timestamp            UTC.Date Local.Timestamp Local.Timezone
## 1           1  1.676994e+12 21/02/2023 15:47:25    1.676994e+12             -5
## 2           2  1.676994e+12 21/02/2023 15:47:28    1.676994e+12             -5
## 3           3  1.676994e+12 21/02/2023 15:47:30    1.676994e+12             -5
## 4           4  1.676994e+12 21/02/2023 15:47:30    1.676994e+12             -5
## 5           5  1.676994e+12 21/02/2023 15:47:34    1.676994e+12             -5
## 6           6  1.676994e+12 21/02/2023 15:47:35    1.676994e+12             -5
##            Local.Date Experiment.ID Experiment.Version Tree.Node.Key Repeat.Key
## 1 21/02/2023 10:47:24        121600                  4     task-zith         NA
## 2 21/02/2023 10:47:28        121600                  4     task-zith         NA
## 3 21/02/2023 10:47:30        121600                  4     task-zith         NA
## 4 21/02/2023 10:47:30        121600                  4     task-zith         NA
## 5 21/02/2023 10:47:34        121600                  4     task-zith         NA
## 6 21/02/2023 10:47:34        121600                  4     task-zith         NA
##   Schedule.ID Participant.Public.ID Participant.Private.ID
## 1    27417249                 BLIND                8147566
## 2    27417249                 BLIND                8147566
## 3    27417249                 BLIND                8147566
## 4    27417249                 BLIND                8147566
## 5    27417249                 BLIND                8147566
## 6    27417249                 BLIND                8147566
##   Participant.Starting.Group Participant.Status Participant.Completion.Code
## 1                         NA           complete                          NA
## 2                         NA           complete                          NA
## 3                         NA           complete                          NA
## 4                         NA           complete                          NA
## 5                         NA           complete                          NA
## 6                         NA           complete                          NA
##   Participant.External.Session.ID Participant.Device.Type Participant.Device
## 1                              NA                computer  Desktop or Laptop
## 2                              NA                computer  Desktop or Laptop
## 3                              NA                computer  Desktop or Laptop
## 4                              NA                computer  Desktop or Laptop
## 5                              NA                computer  Desktop or Laptop
## 6                              NA                computer  Desktop or Laptop
##   Participant.OS Participant.Browser Participant.Monitor.Size
## 1 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 2 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 3 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 4 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 5 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 6 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
##   Participant.Viewport.Size Checkpoint          Task.Name Task.Version
## 1                  1440x732         NA Main Stimuli Q_YES            6
## 2                  1440x732         NA Main Stimuli Q_YES            6
## 3                  1440x732         NA Main Stimuli Q_YES            6
## 4                  1440x732         NA Main Stimuli Q_YES            6
## 5                  1440x732         NA Main Stimuli Q_YES            6
## 6                  1440x732         NA Main Stimuli Q_YES            6
##   randomiser.e7d8  Spreadsheet Spreadsheet.Name Spreadsheet.Row Trial.Number
## 1           Q_YES Spreadsheet1             &lt;NA&gt;              NA   BEGIN TASK
## 2           Q_YES Spreadsheet1     Spreadsheet1               1            1
## 3           Q_YES Spreadsheet1     Spreadsheet1               1            1
## 4           Q_YES Spreadsheet1     Spreadsheet1             126            1
## 5           Q_YES Spreadsheet1     Spreadsheet1             126            1
## 6           Q_YES Spreadsheet1     Spreadsheet1             126            1
##   Screen.Number Screen.Name       Zone.Name         Zone.Type
## 1            NA        &lt;NA&gt;            &lt;NA&gt;              &lt;NA&gt;
## 2             1    Screen 1 advancementZone continue_keyboard
## 3             2    Screen 2 advancementZone continue_keyboard
## 4             1    Screen 1        fixation          fixation
## 5             2    Screen 2         content     content_video
## 6             3    Screen 3 advancementZone response_keyboard
##        Reaction.Time Reaction.Onset Response.Type Response Attempt Correct
## 1               &lt;NA&gt;             NA            NA     &lt;NA&gt;      NA       0
## 2  3344.899999976158             NA            NA     &lt;NA&gt;      NA       0
## 3 1742.8999999761581             NA            NA     &lt;NA&gt;      NA       0
## 4            450.491             NA            NA     &lt;NA&gt;      NA       0
## 5  4068.399999976158             NA            NA     &lt;NA&gt;      NA       0
## 6  441.7999999523163             NA            NA       NO       1       0
##   Incorrect Dishonest X.Coordinate Y.Coordinate Timed.Out randomise_blocks
## 1         1         0           NA           NA        NA               NA
## 2         1         0           NA           NA        NA               NA
## 3         1         0           NA           NA        NA               NA
## 4         1         0           NA           NA        NA               NA
## 5         1         0           NA           NA        NA               NA
## 6         1         0           NA           NA        NA               NA
##   randomise_trials      display ANSWER
## 1               NA         &lt;NA&gt;   &lt;NA&gt;
## 2               NA Instructions   &lt;NA&gt;
## 3               NA Instructions   &lt;NA&gt;
## 4                1        Trial    YES
## 5                1        Trial    YES
## 6                1        Trial    YES
##                                                                             TVideo
## 1                                                                             &lt;NA&gt;
## 2                                                                             &lt;NA&gt;
## 3                                                                             &lt;NA&gt;
## 4 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 5 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 6 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
##                                                                                       ResponceTitle
## 1                                                                                              &lt;NA&gt;
## 2                                                                                              &lt;NA&gt;
## 3                                                                                              &lt;NA&gt;
## 4 &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
## 5 &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
## 6 &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
##                                                                        Dilemma
## 1                                                                         &lt;NA&gt;
## 2                                                                         &lt;NA&gt;
## 3                                                                         &lt;NA&gt;
## 4 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 5 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 6 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
##   Personal DPv1.0.Permissible Personal.force Intention DPv2.0.Permissible
## 1     &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;               &lt;NA&gt;
## 2     &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;               &lt;NA&gt;
## 3     &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;      &lt;NA&gt;               &lt;NA&gt;
## 4       No                Yes             No       Yes                Yes
## 5       No                Yes             No       Yes                Yes
## 6       No                Yes             No       Yes                Yes
##   Action.aversion Outcome.aversion DPv3.0.Permissible Prohibited.act
## 1            &lt;NA&gt;             &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;
## 2            &lt;NA&gt;             &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;
## 3            &lt;NA&gt;             &lt;NA&gt;               &lt;NA&gt;           &lt;NA&gt;
## 4              No              Yes                 No             No
## 5              No              Yes                 No             No
## 6              No              Yes                 No             No
##   Not.intended Good....bad.intended Good...bad No.alternative MG.Permissible
## 1         &lt;NA&gt;                 &lt;NA&gt;       &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;
## 2         &lt;NA&gt;                 &lt;NA&gt;       &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;
## 3         &lt;NA&gt;                 &lt;NA&gt;       &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;
## 4           No                   No         No             No            Yes
## 5           No                   No         No             No            Yes
## 6           No                   No         No             No            Yes
##                                                                           TVideo_1
## 1                                                                             &lt;NA&gt;
## 2                                                                             &lt;NA&gt;
## 3                                                                             &lt;NA&gt;
## 4 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 5 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 6 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4</code></pre>
<p>You will see that gorilla gives you a lot of stuff you don’t need. We
can select only the rows from the dataframe that have
responses/judgments.</p>
<pre class="r"><code># keep only data rows with responses/judgments not all the other stuff gorilla gives you
df &lt;- df %&gt;% 
  filter(Zone.Type == &quot;response_keyboard&quot;)

head(df)</code></pre>
<pre style="max-height: 500px;"><code>##   Event.Index UTC.Timestamp            UTC.Date Local.Timestamp Local.Timezone
## 1           6  1.676994e+12 21/02/2023 15:47:35    1.676994e+12             -5
## 2           9  1.676994e+12 21/02/2023 15:47:39    1.676994e+12             -5
## 3          12  1.676994e+12 21/02/2023 15:47:44    1.676994e+12             -5
## 4          15  1.676994e+12 21/02/2023 15:47:50    1.676994e+12             -5
## 5          18  1.676994e+12 21/02/2023 15:47:54    1.676994e+12             -5
## 6          21  1.676994e+12 21/02/2023 15:47:59    1.676994e+12             -5
##            Local.Date Experiment.ID Experiment.Version Tree.Node.Key Repeat.Key
## 1 21/02/2023 10:47:34        121600                  4     task-zith         NA
## 2 21/02/2023 10:47:39        121600                  4     task-zith         NA
## 3 21/02/2023 10:47:44        121600                  4     task-zith         NA
## 4 21/02/2023 10:47:50        121600                  4     task-zith         NA
## 5 21/02/2023 10:47:54        121600                  4     task-zith         NA
## 6 21/02/2023 10:47:59        121600                  4     task-zith         NA
##   Schedule.ID Participant.Public.ID Participant.Private.ID
## 1    27417249                 BLIND                8147566
## 2    27417249                 BLIND                8147566
## 3    27417249                 BLIND                8147566
## 4    27417249                 BLIND                8147566
## 5    27417249                 BLIND                8147566
## 6    27417249                 BLIND                8147566
##   Participant.Starting.Group Participant.Status Participant.Completion.Code
## 1                         NA           complete                          NA
## 2                         NA           complete                          NA
## 3                         NA           complete                          NA
## 4                         NA           complete                          NA
## 5                         NA           complete                          NA
## 6                         NA           complete                          NA
##   Participant.External.Session.ID Participant.Device.Type Participant.Device
## 1                              NA                computer  Desktop or Laptop
## 2                              NA                computer  Desktop or Laptop
## 3                              NA                computer  Desktop or Laptop
## 4                              NA                computer  Desktop or Laptop
## 5                              NA                computer  Desktop or Laptop
## 6                              NA                computer  Desktop or Laptop
##   Participant.OS Participant.Browser Participant.Monitor.Size
## 1 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 2 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 3 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 4 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 5 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
## 6 Mac OS 10.15.7    Chrome 109.0.0.0                 1440x900
##   Participant.Viewport.Size Checkpoint          Task.Name Task.Version
## 1                  1440x732         NA Main Stimuli Q_YES            6
## 2                  1440x732         NA Main Stimuli Q_YES            6
## 3                  1440x732         NA Main Stimuli Q_YES            6
## 4                  1440x732         NA Main Stimuli Q_YES            6
## 5                  1440x732         NA Main Stimuli Q_YES            6
## 6                  1440x732         NA Main Stimuli Q_YES            6
##   randomiser.e7d8  Spreadsheet Spreadsheet.Name Spreadsheet.Row Trial.Number
## 1           Q_YES Spreadsheet1     Spreadsheet1             126            1
## 2           Q_YES Spreadsheet1     Spreadsheet1             116            2
## 3           Q_YES Spreadsheet1     Spreadsheet1              56            3
## 4           Q_YES Spreadsheet1     Spreadsheet1              34            4
## 5           Q_YES Spreadsheet1     Spreadsheet1              91            5
## 6           Q_YES Spreadsheet1     Spreadsheet1              70            6
##   Screen.Number Screen.Name       Zone.Name         Zone.Type
## 1             3    Screen 3 advancementZone response_keyboard
## 2             3    Screen 3 advancementZone response_keyboard
## 3             3    Screen 3 advancementZone response_keyboard
## 4             3    Screen 3 advancementZone response_keyboard
## 5             3    Screen 3 advancementZone response_keyboard
## 6             3    Screen 3 advancementZone response_keyboard
##        Reaction.Time Reaction.Onset Response.Type Response Attempt Correct
## 1  441.7999999523163             NA            NA       NO       1       0
## 2 296.89999997615814             NA            NA       NO       1       1
## 3              286.5             NA            NA      YES       1       1
## 4  893.2000000476837             NA            NA      YES       1       0
## 5 268.39999997615814             NA            NA      YES       1       1
## 6 284.59999990463257             NA            NA      YES       1       1
##   Incorrect Dishonest X.Coordinate Y.Coordinate Timed.Out randomise_blocks
## 1         1         0           NA           NA        NA               NA
## 2         0         0           NA           NA        NA               NA
## 3         0         0           NA           NA        NA               NA
## 4         1         0           NA           NA        NA               NA
## 5         0         0           NA           NA        NA               NA
## 6         0         0           NA           NA        NA               NA
##   randomise_trials display ANSWER
## 1                1   Trial    YES
## 2                1   Trial     NO
## 3                1   Trial    YES
## 4                1   Trial     NO
## 5                1   Trial    YES
## 6                1   Trial    YES
##                                                                             TVideo
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 2                                              Footbridge_Equipment_Save_Truck.mp4
## 3                                                 InexpensiveRescue_Trolley_3b.mp4
## 4                                                   BetterAlternative_Crane_V4.mp4
## 5                                                  ExpensiveCollapse_Crane_12a.mp4
## 6                                                   InexpensiveRescue_Truck_3b.mp4
##                                                                                                    ResponceTitle
## 1              &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
## 2                 &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to throw the man?
## 3              &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to throw the switch?
## 4              &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
## 5              &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to press the button?
## 6 &lt;h3&gt; &lt;p style=&quot;text-align: center;&quot;&gt; Is it morally permissible for the agent to shout “Watch out! Turn left” ?
##                                                                        Dilemma
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 2                                              Footbridge_Equipment_Save_Truck
## 3                                                            InexpensiveRescue
## 4                                                      better alternativeCrane
## 5                                                       ExpensiveCollapseCrane
## 6                                                       InexpensiveRescueTruck
##   Personal DPv1.0.Permissible Personal.force Intention DPv2.0.Permissible
## 1       No                Yes             No       Yes                Yes
## 2      Yes                 No            Yes       Yes                 No
## 3       No                Yes             No        No                Yes
## 4       No                Yes             No        No                Yes
## 5       No                Yes             No        No                Yes
## 6       No                Yes             No        No                Yes
##   Action.aversion Outcome.aversion DPv3.0.Permissible Prohibited.act
## 1              No              Yes                 No             No
## 2             Yes              Yes                 No            Yes
## 3              No               No                Yes            Yes
## 4              No               No                Yes            Yes
## 5              No               No                Yes             No
## 6              No               No                Yes            Yes
##   Not.intended Good....bad.intended Good...bad No.alternative MG.Permissible
## 1           No                   No         No             No            Yes
## 2           No                   No         No            Yes             No
## 3          Yes                  Yes        Yes            Yes            Yes
## 4          Yes                  Yes        Yes             No             No
## 5           No                  Yes        Yes            Yes            Yes
## 6          Yes                  Yes        Yes            Yes            Yes
##                                                                           TVideo_1
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane.mp4
## 2                                              Footbridge_Equipment_Save_Truck.mp4
## 3                                                 InexpensiveRescue_Trolley_3b.mp4
## 4                                                   BetterAlternative_Crane_V4.mp4
## 5                                                  ExpensiveCollapse_Crane_12a.mp4
## 6                                                   InexpensiveRescue_Truck_3b.mp4</code></pre>
<p>This looks a lot nicer. Next we can select only the variables that we
need for analysis.</p>
<pre class="r"><code># select data we need 
df &lt;- df %&gt;% 
  select(Participant.Private.ID, Task.Name, Trial.Number, Dilemma, Personal, DPv1.0.Permissible, 
         Personal.force, Intention, DPv2.0.Permissible, Action.aversion, Outcome.aversion, DPv3.0.Permissible,
         Prohibited.act, Not.intended, Good....bad.intended, Good...bad, No.alternative, MG.Permissible, Reaction.Time, Response)

head(df)</code></pre>
<pre style="max-height: 500px;"><code>##   Participant.Private.ID          Task.Name Trial.Number
## 1                8147566 Main Stimuli Q_YES            1
## 2                8147566 Main Stimuli Q_YES            2
## 3                8147566 Main Stimuli Q_YES            3
## 4                8147566 Main Stimuli Q_YES            4
## 5                8147566 Main Stimuli Q_YES            5
## 6                8147566 Main Stimuli Q_YES            6
##                                                                        Dilemma
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 2                                              Footbridge_Equipment_Save_Truck
## 3                                                            InexpensiveRescue
## 4                                                      better alternativeCrane
## 5                                                       ExpensiveCollapseCrane
## 6                                                       InexpensiveRescueTruck
##   Personal DPv1.0.Permissible Personal.force Intention DPv2.0.Permissible
## 1       No                Yes             No       Yes                Yes
## 2      Yes                 No            Yes       Yes                 No
## 3       No                Yes             No        No                Yes
## 4       No                Yes             No        No                Yes
## 5       No                Yes             No        No                Yes
## 6       No                Yes             No        No                Yes
##   Action.aversion Outcome.aversion DPv3.0.Permissible Prohibited.act
## 1              No              Yes                 No             No
## 2             Yes              Yes                 No            Yes
## 3              No               No                Yes            Yes
## 4              No               No                Yes            Yes
## 5              No               No                Yes             No
## 6              No               No                Yes            Yes
##   Not.intended Good....bad.intended Good...bad No.alternative MG.Permissible
## 1           No                   No         No             No            Yes
## 2           No                   No         No            Yes             No
## 3          Yes                  Yes        Yes            Yes            Yes
## 4          Yes                  Yes        Yes             No             No
## 5           No                  Yes        Yes            Yes            Yes
## 6          Yes                  Yes        Yes            Yes            Yes
##        Reaction.Time Response
## 1  441.7999999523163       NO
## 2 296.89999997615814       NO
## 3              286.5      YES
## 4  893.2000000476837      YES
## 5 268.39999997615814      YES
## 6 284.59999990463257      YES</code></pre>
<p>A couple of the model parameter names have gone a little weird due to
some of the automatic uploading settings. We can rename these so they
are more descriptive.</p>
<pre class="r"><code># rename a couple of parameters
df &lt;- df %&gt;% 
  rename(ID = Participant.Private.ID,
         Good_not_Bad = Good....bad.intended,
         Good_Grt_Bad = Good...bad,
         RT = Reaction.Time,
         Permissible = Response)

head(df)</code></pre>
<pre style="max-height: 500px;"><code>##        ID          Task.Name Trial.Number
## 1 8147566 Main Stimuli Q_YES            1
## 2 8147566 Main Stimuli Q_YES            2
## 3 8147566 Main Stimuli Q_YES            3
## 4 8147566 Main Stimuli Q_YES            4
## 5 8147566 Main Stimuli Q_YES            5
## 6 8147566 Main Stimuli Q_YES            6
##                                                                        Dilemma
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 2                                              Footbridge_Equipment_Save_Truck
## 3                                                            InexpensiveRescue
## 4                                                      better alternativeCrane
## 5                                                       ExpensiveCollapseCrane
## 6                                                       InexpensiveRescueTruck
##   Personal DPv1.0.Permissible Personal.force Intention DPv2.0.Permissible
## 1       No                Yes             No       Yes                Yes
## 2      Yes                 No            Yes       Yes                 No
## 3       No                Yes             No        No                Yes
## 4       No                Yes             No        No                Yes
## 5       No                Yes             No        No                Yes
## 6       No                Yes             No        No                Yes
##   Action.aversion Outcome.aversion DPv3.0.Permissible Prohibited.act
## 1              No              Yes                 No             No
## 2             Yes              Yes                 No            Yes
## 3              No               No                Yes            Yes
## 4              No               No                Yes            Yes
## 5              No               No                Yes             No
## 6              No               No                Yes            Yes
##   Not.intended Good_not_Bad Good_Grt_Bad No.alternative MG.Permissible
## 1           No           No           No             No            Yes
## 2           No           No           No            Yes             No
## 3          Yes          Yes          Yes            Yes            Yes
## 4          Yes          Yes          Yes             No             No
## 5           No          Yes          Yes            Yes            Yes
## 6          Yes          Yes          Yes            Yes            Yes
##                   RT Permissible
## 1  441.7999999523163          NO
## 2 296.89999997615814          NO
## 3              286.5         YES
## 4  893.2000000476837         YES
## 5 268.39999997615814         YES
## 6 284.59999990463257         YES</code></pre>
<p>We can also change our response variable from yes/no to 1/0 for
analysis.</p>
<pre class="r"><code>#make DV numeric
df &lt;- df %&gt;% 
  mutate(Permissible = recode(Permissible, 
                    &quot;YES&quot; = &quot;1&quot;, 
                    &quot;NO&quot; = &quot;0&quot;)) 

df$Permissible &lt;- as.numeric(as.character(df$Permissible))

head(df)</code></pre>
<pre style="max-height: 500px;"><code>##        ID          Task.Name Trial.Number
## 1 8147566 Main Stimuli Q_YES            1
## 2 8147566 Main Stimuli Q_YES            2
## 3 8147566 Main Stimuli Q_YES            3
## 4 8147566 Main Stimuli Q_YES            4
## 5 8147566 Main Stimuli Q_YES            5
## 6 8147566 Main Stimuli Q_YES            6
##                                                                        Dilemma
## 1 Unprohibited_BetterAlternative_Equipment_Intended_DisproportionateCost_Crane
## 2                                              Footbridge_Equipment_Save_Truck
## 3                                                            InexpensiveRescue
## 4                                                      better alternativeCrane
## 5                                                       ExpensiveCollapseCrane
## 6                                                       InexpensiveRescueTruck
##   Personal DPv1.0.Permissible Personal.force Intention DPv2.0.Permissible
## 1       No                Yes             No       Yes                Yes
## 2      Yes                 No            Yes       Yes                 No
## 3       No                Yes             No        No                Yes
## 4       No                Yes             No        No                Yes
## 5       No                Yes             No        No                Yes
## 6       No                Yes             No        No                Yes
##   Action.aversion Outcome.aversion DPv3.0.Permissible Prohibited.act
## 1              No              Yes                 No             No
## 2             Yes              Yes                 No            Yes
## 3              No               No                Yes            Yes
## 4              No               No                Yes            Yes
## 5              No               No                Yes             No
## 6              No               No                Yes            Yes
##   Not.intended Good_not_Bad Good_Grt_Bad No.alternative MG.Permissible
## 1           No           No           No             No            Yes
## 2           No           No           No            Yes             No
## 3          Yes          Yes          Yes            Yes            Yes
## 4          Yes          Yes          Yes             No             No
## 5           No          Yes          Yes            Yes            Yes
## 6          Yes          Yes          Yes            Yes            Yes
##                   RT Permissible
## 1  441.7999999523163           0
## 2 296.89999997615814           0
## 3              286.5           1
## 4  893.2000000476837           1
## 5 268.39999997615814           1
## 6 284.59999990463257           1</code></pre>
<p>We can now analyse the data in R or if you like we can export it to a
csv file to analyse in JASP.</p>
<pre class="r"><code># rename a couple of parameters
write.csv(df, &quot;~/Dropbox/Documents/My data/Moral sense task/practical/data.csv&quot;, row.names=FALSE)</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
